dist: trusty
sudo: false
group: beta
language: node_js
node_js: v9.11.1
addons:
  firefox: 49.0.2
cache:
  directories:
  - node_modules
  - "$HOME/.cache/bower"
before_install:
- if [ -d node_modules ] && [ x$(cat node_modules/.last-node-version 2>/dev/null)
  != x$(node -e 'console.log(process.version)') ]; then npm rebuild && node -e 'console.log(process.version)'
  > node_modules/.last-node-version; fi
before_script:
- npm install web-component-tester bower@1.7.9 polylint
- "$(npm bin)/bower install"
- "$(npm bin)/polylint --no-recursion"
script:
- xvfb-run $(npm bin)/wct
after_success: '[ ${TRAVIS_PULL_REQUEST} = "false" ] && [ ${TRAVIS_BRANCH} = "master"
  ] && $(npm bin)/bower install -s https://${GH_TOKEN}@github.com/Collaborne/collaborne-build-tools.git
  && bower_components/collaborne-build-tools/gpages_build.sh Collaborne info@collaborne.com'
notifications:
  slack:
    secure: W/Cqf3yA89QC33fmyRGmiFK3oHtdn3y8hDVfQQvDSOQyssNL+qNFPFnACPD30pdDMD82JotGPyTMloG4M9QW1IUChAISygxNXxbP0E+MjFGKunicILrjKqAZTul2+WfPjppnvmDfuISP13hJhbTT9PVAPRk1VzXNDvmNNrPo56EhNcT+oecKa7iXtkDIaBBxdXRITZhJROeJSpvlLAFlxu7HYlMRgi2ZQEC3pw0oo26uHdKVyy+n8za5vOJ0V4NtbVeiyeokWfBTwtmEwy90xmx3EqvMJ6APnw/ulGwf6JO74hqV0MOj8Fz9ni9BhQrTyY2p0jc4PAQ+VbberoV1AfY/VVgdYLeJ0nViYb8en4jtsPnpagvJVn+GWiTGqeLdhWj+NicD01mCIRLyCSTllSg1X17x32GFcx5KI54PGkSdj/kZZTwOUWkT4azhVLg0wx5R4cC1HV5aysJ5eV/pZBQH1iwKier9X2Vv9q5liiDysPmk0FLAuXbh4Wt3/VkcWQzKoDIxrIN7UOLN4XmZo+46nTLfvfPdiV+S8KLXrKu1Bg3BXNjUvP1ZKyBI+xGvrNtPDof5ECWz7qTXoPPc78D8RtFZNI4//MnUDCtIK/eEAJUMRQw+K1dgVvfTHbhyKe2KY7Z1B/r970yqnAsAD6dsT2Kw52tLTv5jLjPP8vk=
after_failure:
- after_failure
